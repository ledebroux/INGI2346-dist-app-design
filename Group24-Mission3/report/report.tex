\documentclass{article}

\input{header.tex}

\begin{document}

\begin{titlepage}
    \begin{center}
        {\huge LINGI2346 - Distributed application design}\\
        \vspace{0.4cm}
        
        {\Large {Teacher : Marc Lobelle}}\\
        \vspace{0.6cm}
        
        {\Large \textit{Problem 2: RPC}}\\
        \vspace{1.2cm}

        \texttt{}\\
        \vspace{0.2cm}

        \includegraphics[height=10cm]{pageGarde.png}\\
        \vspace{0.1cm}
        {\Large \textbf{Universit\'e Catholique de Louvain}}
        \vspace{0.3cm}

        \vspace{2cm}
        Group 24\\
        \vspace{0.3cm}
        LÃ©onard Debroux\\
        Thibaut Knop\\
        \vspace{0.4cm}
        2013-2014\\
    \end{center}
\end{titlepage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%TITRE ET TABLE DES MATIERES%%%%%%%%%%%%%%%%%%
%\maketitle
%\tableofcontents
%\addcontentsline{toc}{section}{ }
\newpage

%Write a narrative describing how you went about writing and testing each program you write. The narrative should describe what choices you faced and which you made. We should get a pretty good sense of what your program looks like from reading the narrative. So far as testing goes, describe how you went about choosing your test cases, what they were, and their results.

\section{Discussion}
In this section, we'll discuss about the different choices we've made regarding the implementation of a transfer protocol.

\subsection{Allocation of the various functions to the server and to the client}


\subsection{Organisation of the transfer between client and server of data of unspecified length as parameters and results of remote procedure calls}


\subsection{How to support simultaneous clients ?}


\section{Presentation}
\subsection{Communication protocol between the client and the server}

\subsection{User guides of the client and server}
\begin{description}
\item[Server] The only command you can perform for the server is to run it by launching \verb@./myftpd@. All the commands and responses the server will perform are sent from and to the client.
\item[Client] As specified in the functional description of the application, the client is launch by running \verb@./myftp@ in the right corresponding directory (see next Subsection). The commands available are :
\begin{itemize}
\item \verb@pwd@: Display the current directory (of the environment) of the server
\item \verb@lpwd@: Display the current directory (of the environment) of the client
\item \verb@cd dir@: Change the current directory of the server into \verb@dir@. Not that the usage of relative and absolute paths, as well as \verb@~@ paths  are accepted.
\item \verb@lcd dir@: Change the current directory of the client into \verb@dir@. Not that the usage of relative and absolute paths, as well as \verb@~@ paths  are accepted.
\item \verb@ls@: Display the contents of the current directory of the server.
\item \verb@lls@: Display the contents of the current directory of the client.
\item \verb@get file@: The file \verb@file@ is copied from the current directory of the server towards the current directory of the client.
\item \verb@put file@: The file \verb@file@ is copied from the current directory of the client towards the current directory of the server.
\item \verb@bye@: Close the file transfer session
\end{itemize}
\end{description}
\subsection{The source code directory and instruction for building the executable files}
The directory containing the source codes is named \verb@Mission2-Group24@.  \\
It contains the following files : 
\begin{itemize}
\item \verb@header.h@: contains the typedef declaration of the structure \verb@msgHeader@, as well as the type of possible message, encoded as a \verb@int@.
\item \verb@utils.c@: contains a set of methods which are useful for both client and server. All the methods are designed to be used and called either by the client and the server. Note that the method \verb@sendType@, we do not forget to call \verb@htonl@ to format the \verb@int@ variables from the \textit{host} layer to the \textit{network} layer.
\item \verb@myftp.c@: contains the code for the client. It works as telnet and has a similar architecture code.
\item \verb@myftpd.c@: contains the code for the server. It works as telnetd and has a similar architecture code.
\item \verb@Makefile@: Automate the compilation and the linkage of the .c sources to produce executable files, \verb@myftp@ and \verb@myftpd@ respectively.
\end{itemize}
In order to build the executable files, all is needed is to run the \verb@Makefile@ by running the \verb@make@ command in the current directory (\verb@Mission2-Group24@).\\

To run the client and the server, just run \verb@./myftp@ and \verb@./myftpd@ respectively, by starting the server first.
\subsection{Commented listings of the programs}
 \subsubsection{Client specific code}~
    \lstinputlisting{../myftp/myftp.c}
    \subsubsection{Server specific code}~
    \lstinputlisting{../myftp/myftpd.c}
    \subsubsection{../Shared code}~
    \lstinputlisting{../myftp/utils.c}
    \lstinputlisting{../myftp/header.h}
    \lstinputlisting{../myftp/utils.h}
\end{document}

